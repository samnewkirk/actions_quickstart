name: eNGine Deployment

on:
  workflow_dispatch:
    inputs:
      azure_region:
        description: ""
        required: true
        default: "DELETE: EASTUS"
      business_unit:
        description: ""
        required: true
        default: "DELETE: BU"
      deploy_resources:
        description: ""
        default: "deploy_azure_ml=false,deploy_azure_open_ai=false,deploy_ai_search=false,deploy_computer_vision=false,deploy_document_intelligence=false"
      environment:
        description: ""
        required: true
        default: "DELETE: DEV"
      project_name:
        description: ""
        required: true
        default: "DELETE: PRJ"
      user_email:
        description: "The email of the user requesting the deployment"
        required: true
        default: "DELETE: matthew@clark.com"
      workflow_id:
        description: "The workflow id"
        required: true
        default: "DELETE: LKJDLKFJKLSJDFLKJSDLKFJKLSJDF8908098"
jobs:
    job1:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4
            - id: print_inputs
              name: Print Inputs
              run: |
                ls -al
                echo "Azure Region: ${{ github.event.inputs.azure_region}}"
                echo "Azure Subscription: ${{ github.event.inputs.environment}}"
                echo "Business Unit: ${{ github.event.inputs.business_unit }}"
                echo "Deploy Azure ML: ${{ github.event.inputs.deploy_resources }}"
                echo "Project Name:  ${{ github.event.inputs.project_name }}"
                echo "User Email: ${{ github.event.inputs.user_email }}"
                echo "Workflow Id: ${{ github.event.inputs.workflow_id }}"
            - id: create_folder
              name: Create Folder
              run: |
                echo "Creating Folder...."
                mkdir "project_name"
                ls -al
            - id: copy_template
              name: Copy Template
              run: |
                echo "Copying Template..."
            - id: Write_tfvars
              name: Write TfVars
              run: |
                touch "mytfvars.auto.tfvars"
                echo "azure_region=${{ github.event.inputs.azure_region }}>>mytfvars.auto.tfvars"
